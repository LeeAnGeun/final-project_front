<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>



<link rel="stylesheet" href="categoryPage/categoryCss.css">
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>

<script src="categoryPage/loading.js"></script>
<!-- bootstrap -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!-- pagination -->
<script type="text/javascript" src="./js/jquery.twbsPagination.min.js"></script>


</head>

<body>
<div class="mainViewW">
<!-- Primary Category -->
	<div class="midClassMenu">
		<ul class="navListTop2">
			<li class="listItem2"><a class="categoryA langLink" id="langClass" eng="외국어" href="#">
			<i class="fas fa-language" style="font-size:46px;"></i><br>외국어</a></li>
			<li class="listItem2"><a class="categoryA createLink" id="createClass" href="#">
			<i class="fas fa-palette" style="font-size:46px;"></i><br>크리에이티브</a></li>
			<li class="listItem2"><a class="categoryA cookingLink" id="cookingClass" href="javascript:void(0);">
			<i class="fas fa-utensils" style="font-size:46px;"></i><br>요리</a></li>
			<li class="listItem2"><a class="categoryA programmingLink" id="programmingClass" href="javascript:goProgram();">
			<i class="fas fa-code" style="font-size:46px;"></i><br>프로그래밍</a></li>
			<li class="listItem2"><a class="categoryA sportsLink" id="sportsClass" href="javascript:void(0);">
			<i class="fas fa-dumbbell" style="font-size:46px;"></i><br>스포츠/레져</a></li>
	    </ul>

	</div>
	<!-- 외국어 -->
	<div class="categoryPage langClassMain">
		<div class="pageDescription">
		<div class="langClass">
			
			<!-- 배너공간 -->
			<div id="carouselExampleIndicators1" class="carousel slide" data-ride="carousel">
			  <ol class="carousel-indicators">
			    <li data-target="#carouselExampleIndicators1" data-slide-to="0" class="active"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="1"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="2"></li>
			  </ol>
			  <div class="carousel-inner">
			    <div class="carousel-item active">
			      <img src="images/main4.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미1.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미2.png" class="d-block w-100" alt="...">
			    </div>
			  </div>
			  <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev">
			    <span class="carousel-control-prev-icon"></span>
			    <span class="sr-only">Previous</span>
			  </a>
			  <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next">
			    <span class="carousel-control-next-icon"></span>
			    <span class="sr-only">Next</span>
			  </a>
			</div>
		
		<!-- 정렬 셀렉트 및 검색 창 -->
		<div class="selectAndSearch">
		
			<div class="select">
			  <select name="choice" id="choice">
			    <option selected disabled>정렬 기준 선택</option>
			    <option value="orderByLike">인기순</option>
			    <option value="orderByRecent">최신순</option>
			    <option value="orderByAvg">평점순</option>
			  </select>
			</div>
			
			<div class="search-box">
			  <input class="search-input" id="searchWord" type="text" placeholder="검색어 입력">
			  <a href="#" class="search-btn">
			    <i class="fas fa-search"></i>
			  </a>     
			</div>
			
		</div>
		<!-- 리스트 가져오기 및 뿌려주기부분 -->
		<div class="searchedClassListView">
		
			<div class="classListTable">
				<table class="testTable">
					<tr>
						<td>
						<img alt="" src="" class="classImage1">
						<h1 class="classTitle"></h1>
						<h2 class="classTeacher"></h2>
						<h3 class="classDate"></h3>
						<button type="button" id="showDetail">상세보기</button>
						</td>
					</tr>
				</table>
			</div>
		
			<div class="container">
				<nav aria-label="Page navigation">
					<ul class="pagination" id="pagination" style="justify-content:center;"></ul>
				</nav>
			</div>
		
		
		</div>
			
		</div>
		</div>
	</div>
	
	<!-- 크리에이티브 -->
	<div class="categoryPage createClassMain">
		<div class="pageDescription">
		<div class="createClass">
		
			<!-- 배너공간 -->
			<div id="carouselExampleIndicators1" class="carousel slide" data-ride="carousel">
			  <ol class="carousel-indicators">
			    <li data-target="#carouselExampleIndicators1" data-slide-to="0" class="active"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="1"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="2"></li>
			  </ol>
			  <div class="carousel-inner">
			    <div class="carousel-item active">
			      <img src="images/main4.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미1.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미2.png" class="d-block w-100" alt="...">
			    </div>
			  </div>
			  <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev">
			    <span class="carousel-control-prev-icon"></span>
			    <span class="sr-only">Previous</span>
			  </a>
			  <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next">
			    <span class="carousel-control-next-icon"></span>
			    <span class="sr-only">Next</span>
			  </a>
			</div>
			
			<!-- 정렬 셀렉트 및 검색 창 -->
		<div class="selectAndSearch">
		
			<div class="select">
			  <select name="choice" id="choice">
			    <option selected disabled>정렬 기준 선택</option>
			    <option value="orderByLike">인기순</option>
			    <option value="orderByRecent">최신순</option>
			    <option value="orderByAvg">평점순</option>
			  </select>
			</div>
			
			<div class="search-box">
			  <input class="search-input" type="text" name="" placeholder="검색어 입력">
			  <a href="#" class="search-btn">
			    <i class="fas fa-search"></i>
			  </a>     
			</div>
			
		</div>
			
		</div>
		</div>
	</div>
	
	<!-- 요리 -->
	<div class="categoryPage cookingClassMain">
		<div class="pageDescription">
		<div class="cookingClass">
		
			<!-- 배너공간 -->
			<div id="carouselExampleIndicators1" class="carousel slide" data-ride="carousel">
			  <ol class="carousel-indicators">
			    <li data-target="#carouselExampleIndicators1" data-slide-to="0" class="active"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="1"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="2"></li>
			  </ol>
			  <div class="carousel-inner">
			    <div class="carousel-item active">
			      <img src="images/main4.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미1.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미2.png" class="d-block w-100" alt="...">
			    </div>
			  </div>
			  <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev">
			    <span class="carousel-control-prev-icon"></span>
			    <span class="sr-only">Previous</span>
			  </a>
			  <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next">
			    <span class="carousel-control-next-icon"></span>
			    <span class="sr-only">Next</span>
			  </a>
			</div>
			
			<!-- 정렬 셀렉트 및 검색 창 -->
		<div class="selectAndSearch">
		
			<div class="select">
			  <select name="choice" id="choice">
			    <option selected disabled>정렬 기준 선택</option>
			    <option value="orderByLike">인기순</option>
			    <option value="orderByRecent">최신순</option>
			    <option value="orderByAvg">평점순</option>
			  </select>
			</div>
			
			<div class="search-box">
			  <input class="search-input" type="text" name="" placeholder="검색어 입력">
			  <a href="#" class="search-btn">
			    <i class="fas fa-search"></i>
			  </a>     
			</div>
			
		</div>
			
		</div>
		</div>
	</div>
	
	<!-- 프로그래밍 -->
	<div class="categoryPage programmingClassMain">
		<div class="pageDescription">	
		<div class="programmingClass">
		
			<!-- 배너공간 -->
			<div id="carouselExampleIndicators1" class="carousel slide" data-ride="carousel">
			  <ol class="carousel-indicators">
			    <li data-target="#carouselExampleIndicators1" data-slide-to="0" class="active"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="1"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="2"></li>
			  </ol>
			  <div class="carousel-inner">
			    <div class="carousel-item active">
			      <img src="images/main4.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미1.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미2.png" class="d-block w-100" alt="...">
			    </div>
			  </div>
			  <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev">
			    <span class="carousel-control-prev-icon"></span>
			    <span class="sr-only">Previous</span>
			  </a>
			  <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next">
			    <span class="carousel-control-next-icon"></span>
			    <span class="sr-only">Next</span>
			  </a>
			</div>
			
			<!-- 정렬 셀렉트 및 검색 창 -->
		<div class="selectAndSearch">
		
			<div class="select">
			  <select name="choice" id="choice">
			    <option selected disabled>정렬 기준 선택</option>
			    <option value="orderByLike">인기순</option>
			    <option value="orderByRecent">최신순</option>
			    <option value="orderByAvg">평점순</option>
			  </select>
			</div>
			
			<div class="search-box">
			  <input class="search-input" type="text" name="" placeholder="검색어 입력">
			  <a href="#" class="search-btn">
			    <i class="fas fa-search"></i>
			  </a>     
			</div>
			
		</div>
			
		</div>
		</div>
	</div>
	
	<!-- 스포츠/레져 -->
	<div class="categoryPage sportsClassMain">
		<div class="pageDescription">		
		<div class="sportsClass">
		
			<!-- 배너공간 -->
			<div id="carouselExampleIndicators1" class="carousel slide" data-ride="carousel">
			  <ol class="carousel-indicators">
			    <li data-target="#carouselExampleIndicators1" data-slide-to="0" class="active"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="1"></li>
			    <li data-target="#carouselExampleIndicators1" data-slide-to="2"></li>
			  </ol>
			  <div class="carousel-inner">
			    <div class="carousel-item active">
			      <img src="images/main4.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미1.png" class="d-block w-100" alt="...">
			    </div>
			    <div class="carousel-item">
			      <img src="images/취미2.png" class="d-block w-100" alt="...">
			    </div>
			  </div>
			  <a class="carousel-control-prev" href="#carouselExampleIndicators1" role="button" data-slide="prev">
			    <span class="carousel-control-prev-icon"></span>
			    <span class="sr-only">Previous</span>
			  </a>
			  <a class="carousel-control-next" href="#carouselExampleIndicators1" role="button" data-slide="next">
			    <span class="carousel-control-next-icon"></span>
			    <span class="sr-only">Next</span>
			  </a>
			</div>
			
			<!-- 정렬 셀렉트 및 검색 창 -->
		<div class="selectAndSearch">
		
			<div class="select">
			  <select name="choice" id="choice">
			    <option selected disabled>정렬 기준 선택</option>
			    <option value="orderByLike">인기순</option>
			    <option value="orderByRecent">최신순</option>
			    <option value="orderByAvg">평점순</option>
			  </select>
			</div>
			
			<div class="search-box">
			  <input class="search-input" type="text" name="" placeholder="검색어 입력">
			  <a href="#" class="search-btn">
			    <i class="fas fa-search"></i>
			  </a>     
			</div>
			
		</div>
			
		</div>
		</div>
	</div>	
	






</div>
	

<script type="text/javascript">
$(document).ready(function(){
	

	$('.langClassMain').hide();
	$('.createClassMain').hide();
	$('.cookingClassMain').hide();
	$('.programmingClassMain').hide();
	$('.sportsClassMain').hide();

	/* 대분류 외국어 눌렀을때 */
	$('#langClass').click(function () {
		
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
	
		$(".categoryPage").addClass("animate_content");
		  $(".pageDescription").fadeOut(100).delay(2200).fadeIn();

		  setTimeout(function () {
		    $(".categoryPage").removeClass("animate_content");
		  }, 2200);

		  //페이드인 제거 1000밀리세컨
		  setTimeout(function () {
		    $(".categoryPage").removeClass("fadeIn");
		  }, 1500);
		  
		//1500밀리세컨 후에 (페이드인제거직후) 해당 클래스 보여줌
		  setTimeout(function () {
			    $(".langClass").addClass("fadeIn");
			  }, 1500);
		  $('.langClassMain').show();
		  
		  
		  
		  
		  
	});
	
	
	
	
	
	
	$('#createClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
		
		$(".categoryPage").addClass("animate_content");
		  $(".pageDescription").fadeOut(100).delay(2000).fadeIn();

		  setTimeout(function () {
		    $(".categoryPage").removeClass("animate_content");
		  }, 2000);

		  //페이드인 제거 1500밀리세컨
		  setTimeout(function () {
		    $(".categoryPage").removeClass("fadeIn");
		  }, 800);
		  
		//1500밀리세컨 후에 (페이드인제거직후) 해당 클래스 보여줌
		  setTimeout(function () {
			    $(".createClass").addClass("fadeIn");
			  }, 800);
		  $('.createClassMain').show();
	});
	
	$('#cookingClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
		
		$(".categoryPage").addClass("animate_content");
		  $(".pageDescription").fadeOut(100).delay(2000).fadeIn();

		  setTimeout(function () {
		    $(".categoryPage").removeClass("animate_content");
		  }, 2000);

		  //페이드인 제거 1500밀리세컨
		  setTimeout(function () {
		    $(".categoryPage").removeClass("fadeIn");
		  }, 800);
		  
		//1500밀리세컨 후에 (페이드인제거직후) 해당 클래스 보여줌
		  setTimeout(function () {
			    $(".cookingClass").addClass("fadeIn");
			  }, 800);
		  $('.cookingClassMain').show();
		 
	});
	
	$('#programmingClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
		
		$(".categoryPage").addClass("animate_content");
		  $(".pageDescription").fadeOut(100).delay(2000).fadeIn();

		  setTimeout(function () {
		    $(".categoryPage").removeClass("animate_content");
		  }, 2000);

		  //페이드인 제거 1500밀리세컨
		  setTimeout(function () {
		    $(".categoryPage").removeClass("fadeIn");
		  }, 800);
		  
		//1500밀리세컨 후에 (페이드인제거직후) 해당 클래스 보여줌
		  setTimeout(function () {
			    $(".programmingClass").addClass("fadeIn");
			  }, 800);
		  $('.programmingClassMain').show();
	});	
	
	$('#sportsClass').click(function () {
		$('.langClassMain').hide();
		$('.createClassMain').hide();
		$('.cookingClassMain').hide();
		$('.programmingClassMain').hide();
		$('.sportsClassMain').hide();
		
		
		$(".categoryPage").addClass("animate_content");
		  $(".pageDescription").fadeOut(100).delay(2000).fadeIn();

		  setTimeout(function () {
		    $(".categoryPage").removeClass("animate_content");
		  }, 2000);

		  //페이드인 제거 1500밀리세컨
		  setTimeout(function () {
		    $(".categoryPage").removeClass("fadeIn");
		  }, 800);
		  
		//1500밀리세컨 후에 (페이드인제거직후) 해당 클래스 보여줌
		  setTimeout(function () {
			    $(".sportsClass").addClass("fadeIn");
			  }, 800);
		  $('.sportsClassMain').show();
	});	
	
	
});


//클래스 리스트 가져오기

$(document).on("click", ".categoryA", function () { 
	var pcVal=$(this).attr('eng');
	alert(pcVal);
	
	classListData(0, pcVal);
	
});

function classListData( pNumber, pcVal ) {
	
	$.ajax({
		url:"http://localhost:3000/classListData",
		type:"get",
		data:{ page:pNumber, choice:$("#choice").val(), search:$("#searchWord").val(), primaryCategory: pcVal  },
		success:function( list ){
			alert('success');
			alert(list);
			
			
			/* $(".list_col").remove();
		
			$.each(list, function (i, val) {
				let app = "<tr>"
							+ "<td>" + (i + 1) + "</td>"
							+ "<td>";
							
					if(val.del == 0){	// 삭제되지 않은 글	
						app += "<a href='javascript:;' id='_seq' value='"+val.noticeNum+"'>&nbsp;" 
						+ val.nTitle + "</a>";
					}else{				// 삭제된 글
						app += "<font color='#ff0000'>* 이 글은 작성자에 의해서 삭제되었습니다 *</font>";
					}
					app += "</td>";
					
					app += "<td>" + val.username + "</td>";
					app += "<td>" + val.email + "</td>"; 
					app += "</tr>";
						
				$("#noticeTable").append(app);	
			});	 */
			
			
		},
		error:function(){
			alert('error');
		}
	});
}

//글의 총수를 취득
function classListCount() {
	
	$.ajax({
		url:"http://localhost:3000/classListCount",
		type:"get",
		data:{ page:0, choice:$("#choice").val(), search:$("#searchWord").val() },
		success:function( count ){
			//alert('success');
			loadPage(count);
		},
		error:function(){
			alert('error');
		}		
	});
}

//paging 처리
function loadPage( totalCount ) {

	let pageSize = 10;
	let nowPage = 1;
	
	let _totalPages = totalCount / pageSize;
	if(totalCount % pageSize > 0){
		_totalPages++;
	}
	$("#pagination").twbsPagination('destroy'); //페이지 갱신: 초기화
	
	$("#pagination").twbsPagination({
	//	startPage: 1,
		totalPages: _totalPages,
		visiblePages: 10,
		first:'<span sria-hidden="true">«</span>',
		prev:"이전",
		next:"다음",
		last:'<span sria-hidden="true">»</span>',
		initiateStartPageClick:false,		// onPageClick 자동 실행되지 않도록 한다
		onPageClick:function(event, page){
			nowPage = page;
		//	alert('nowPage:' + page);
			noticeListData( page - 1 );
		}
	});	
}
</script>


</body>
</html>